<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Sistem Peminjaman Buku</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <h2>📚 Perpustakaan</h2>
            <ul class="menu">
                <li onclick="showSection('book-section')">📖 Daftar Buku</li>
                <li onclick="showSection('user-section')">👤 Pengguna</li>
                <li onclick="showSection('form-section')">📝 Form Peminjaman</li>
                <li onclick="showSection('history-section')">📂 Riwayat</li>
            </ul>
        </aside>

        <!-- Main Content -->
        <main class="content">
            <!-- Buku -->
            <section id="book-section" class="section active">
                <h2>📖 Daftar Buku</h2>
                <button onclick="showBookForm()">➕ Tambah Buku</button>
                <div id="add-book-form-wrapper" style="display:none;">
                    <input type="text" id="book-author" placeholder="Nama Penulis">
                    <input type="text" id="book-title" placeholder="Judul Buku">
                    <button onclick="tambahBuku()">Tambah</button>
                </div>
                <input type="text" id="search-book" placeholder="Cari berdasarkan judul/ID" oninput="filterBooks()">
                <button onclick="loadBooks()">🔄 Muat Buku</button>
                <ul id="book-list"></ul>
            </section>

            <!-- Pengguna -->
            <section id="user-section" class="section">
                <h2>👤 Tambah Pengguna</h2>
                <input type="text" id="user-name" placeholder="Nama User Baru">
                <button onclick="tambahUser()">Tambah User</button>
                <h3>Daftar Pengguna</h3>
                <ul id="user-list"></ul>
            </section>

            <!-- Form Peminjaman -->
            <section id="form-section" class="section">
                <h2>📝 Form Peminjaman</h2>
                <input type="text" id="user-id" placeholder="Nama Pengguna">
                <input type="number" id="book-id" placeholder="Book ID">
                <input type="number" id="duration-days" placeholder="Durasi (hari)">
                <button onclick="pinjamBuku()">Pinjam Buku</button>
                <pre id="result"></pre>
            </section>

            <!-- Riwayat -->
            <section id="history-section" class="section">
                <h2>📂 Riwayat Peminjaman</h2>
                <button onclick="loadBorrows()">🔄 Lihat Semua</button>
                <table id="borrow-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>User</th>
                            <th>Buku</th>
                            <th>Pinjam</th>
                            <th>Jatuh Tempo</th>
                            <th>Status</th>
                            <th>Aksi</th>
                        </tr>
                    </thead>
                    <tbody id="borrow-body"></tbody>
                </table>
            </section>
        </main>
    </div>

    <script src="js/app.js"></script>
    <script>
        function showSection(id) {
            document.querySelectorAll('.section').forEach(sec => {
                sec.classList.remove('active');
            });
            document.getElementById(id).classList.add('active');
        }

        function showBookForm() {
            const form = document.getElementById('add-book-form-wrapper');
            form.style.display = form.style.display === 'none' ? 'block' : 'none';
        }
    </script>
</body>
</html>